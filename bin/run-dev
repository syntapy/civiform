#!/bin/bash

# Start localstack service
$( dirname ${BASH_SOURCE[0]})/localstack/start_localstack

# On first time developer starts local s3 using other terminal
# Dev is notified on this
$( dirname ${BASH_SOURCE[0]})/localstack/wait_local_s3_exists

# run bin/pull-image
$( dirname ${BASH_SOURCE[0]})/pull-image

if [ -f ".secrets" ]; then
    . .secrets
fi

docker-compose up
